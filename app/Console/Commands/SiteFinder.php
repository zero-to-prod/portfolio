<?php

namespace App\Console\Commands;

use Illuminate\Console\Command;
use Storage;
use Str;

class SiteFinder extends Command
{
    protected $signature = 'find';

    public function handle(): void
    {

        $list = self::words;

        for ($i = 0; $i < count($list); $i++) {
            $this->checkAndSaveDomain($list[$i] . $list[$i] . '.com');
            $this->checkAndSaveDomain($list[$i] . '-' . $list[$i] . '.com');
            for ($j = $i + 1; $j < count($list); $j++) {
                $this->checkAndSaveDomain($list[$i] . $list[$j] . '.com');
                $this->checkAndSaveDomain($list[$i] . '-' . $list[$j] . '.com');
                $this->checkAndSaveDomain($list[$j] . $list[$i] . '.com');
                $this->checkAndSaveDomain($list[$j] . '-' . $list[$i] . '.com');
            }
        }

//        foreach (self::words as $word) {
//            $patterns = [
//                'hey' . $word . '.com',
////                'code-' . $word . '.com',
////                $word . 'code' . '.com',
////                $word . '-code' . '.com',
//            ];
//
//            foreach ($patterns as $domain) {
//                $this->checkAndSaveDomain($domain);
//            }
//        }
    }

    private function checkAndSaveDomain($domain): void
    {
        exec("whois $domain", $output);

        if (Str::contains(implode(PHP_EOL, $output), 'No match for domain "' . Str::upper($domain) . '".')) {
            Storage::disk('local')->append('ranked-100.txt', $domain);
            $this->info($domain);
        }
    }

//    const words = [
//        'the',
//        'be',
//        'and',
//        'a',
//        'of',
//        'to',
//        'i',
//        'in',
//        'have',
//        'it',
//        'that',
//        'you',
//        'to',
//        'for',
//        'do',
//        'on',
//        'with',
//        'this',
//        'not',
//        'but',
//        'they',
//        'we',
//        'that',
//        'or',
//        'he',
//        'will',
//        'at',
//        'if',
//        'can',
//        'my',
//        'from',
//        'by',
//        'what',
//        'your',
//        'as',
//        'get',
//        'all',
//        'say',
//        'would',
//        'about',
//        'their',
//        'make',
//        'who',
//        'go',
//        'so',
//        'people',
//        'his',
//        'just',
//        'time',
//        'there',
//        'think',
//        'as',
//        'me',
//        'know',
//        'up',
//        'some',
//        'how',
//        'them',
//        'our',
//        'year',
//        'see',
//        'out',
//        'other',
//        'which',
//        'one',
//        'when',
//        'take',
//        'like',
//        'want',
//        'more',
//        'than',
//        'thing',
//        'because',
//        'way',
//        'also',
//        'she',
//        'no',
//        'use',
//        'could',
//        'then',
//        'come',
//        'now',
//        'any',
//        'into',
//        'these',
//        'more',
//        'many',
//        'should',
//        'those',
//        'good',
//        'need',
//        'even',
//        'really',
//        'give',
//        'one',
//        'new',
//        'first',
//        'only',
//        'very',
//        'day',
//        'look',
//        'find',
//        'us',
//        'work',
//        'him',
//        'here',
//        'its',
//        'her',
//        'life',
//        'why',
//        'two',
//        'try',
//        'still',
//        'world',
//        'well',
//        'too',
//        'great',
//        'same',
//        'as',
//        'may',
//        'something',
//        'tell',
//        'man',
//        'much',
//        'never',
//        'feel',
//        'back',
//        'point',
//        'while',
//        'there',
//        'woman',
//        'after',
//        'game',
//        'in',
//        'every',
//        'state',
//        'seem',
//        'like',
//        'keep',
//        'start',
//        'over',
//        'own',
//        'read',
//        'last',
//        'big',
//        'when',
//        'so',
//        'mean',
//        'through',
//        'help',
//        'believe',
//        'most',
//        'down',
//        'put',
//        'write',
//        'on',
//        'part',
//        'problem',
//        'call',
//        'few',
//        'most',
//        'fact',
//        'always',
//        'another',
//        'happen',
//        'out',
//        'child',
//        'become',
//        'bad',
//        'might',
//        'money',
//        'ask',
//        'country',
//        'book',
//        'job',
//        'government',
//        'show',
//        'let',
//        'high',
//        'actually',
//        'love',
//        'school',
//        'without',
//        'week',
//        'where',
//        'pay',
//        'post',
//        'live',
//        'play',
//        'different',
//        'work',
//        'issue',
//        'place',
//        'someone',
//        'again',
//        'leave',
//        'such',
//        'company',
//        'idea',
//        'lot',
//        'against',
//        'business',
//        'system',
//        'comment',
//        'story',
//        'over',
//        'since',
//        'much',
//        'question',
//        'where',
//        'old',
//        'between',
//        'right',
//        'run',
//        'talk',
//        'family',
//        'team',
//        'number',
//        'reason',
//        'best',
//        'sure',
//        'person',
//        'ever',
//        'real',
//        'case',
//        'create',
//        'her',
//        'next',
//        'friend',
//        'word',
//        'off',
//        'far',
//        'about',
//        'however',
//        'president',
//        'law',
//        'though',
//        'understand',
//        'anything',
//        'power',
//        'today',
//        'bring',
//        'must',
//        'guy',
//        'nothing',
//        'change',
//        'hear',
//        'group',
//        'able',
//        'least',
//        'only',
//        'during',
//        'all',
//        'before',
//        'month',
//        'lose',
//        'city',
//        'maybe',
//        'party',
//        'allow',
//        'already',
//        'learn',
//        'yet',
//        'everyone',
//        'house',
//        'three',
//        'small',
//        'end',
//        'right',
//        'each',
//        'provide',
//        'better',
//        'important',
//        'free',
//        'probably',
//        'win',
//        'turn',
//        'move',
//        'tax',
//        'buy',
//        'anyone',
//        'long',
//        'kid',
//        'agree',
//        'kind',
//        'home',
//        'right',
//        'spend',
//        'service',
//        'both',
//        'american',
//        'blog',
//        'article',
//        'add',
//        'yes',
//        'large',
//        'long',
//        'war',
//        'line',
//        'million',
//        'side',
//        'student',
//        'everything',
//        'enough',
//        'information',
//        'stop',
//        'around',
//        'change',
//        'social',
//        'under',
//        'hold',
//        'often',
//        'continue',
//        'TRUE',
//        'follow',
//        'hand',
//        'site',
//        'name',
//        'hope',
//        'even',
//        'experience',
//        'else',
//        'area',
//        'level',
//        'whether',
//        'food',
//        'ago',
//        'community',
//        'post',
//        'consider',
//        'little',
//        'watch',
//        'program',
//        'course',
//        'include',
//        'health',
//        'around',
//        'after',
//        'until',
//        'better',
//        'away',
//        'lead',
//        'night',
//        'hard',
//        'pretty',
//        'republican',
//        'simply',
//        'political',
//        'support',
//        'begin',
//        'election',
//        'member',
//        'remember',
//        'share',
//        'result',
//        'news',
//        'speak',
//        'once',
//        'season',
//        'market',
//        'media',
//        'base',
//        'policy',
//        'etc',
//        'public',
//        'set',
//        'almost',
//        'build',
//        'hour',
//        'vote',
//        'data',
//        'wrong',
//        'possible',
//        'sense',
//        'expect',
//        'both',
//        'history',
//        'energy',
//        'easy',
//        'especially',
//        'young',
//        'together',
//        'price',
//        'before',
//        'quite',
//        'class',
//        'either',
//        'mind',
//        'process',
//        'offer',
//        'whole',
//        'event',
//        'choose',
//        'decide',
//        'product',
//        'car',
//        'off',
//        'action',
//        'end',
//        'second',
//        'grow',
//        'movie',
//        'low',
//        'meet',
//        'video',
//        'cost',
//        'human',
//        'send',
//        'including',
//        'several',
//        'full',
//        'myself',
//        'water',
//        'themselves',
//        'require',
//        'care',
//        'value',
//        'sell',
//        'national',
//        'back',
//        'less',
//        'plan',
//        'player',
//        'thanks',
//        'within',
//        'wait',
//        'perhaps',
//        'rate',
//        'kill',
//        'choice',
//        'please',
//        'thank',
//        'term',
//        'no',
//        'decision',
//        'show',
//        'interest',
//        'body',
//        'four',
//        'percent',
//        'stand',
//        'yourself',
//        'situation',
//        'late',
//        'parent',
//        'film',
//        'black',
//        'church',
//        'view',
//        'project',
//        'head',
//        'little',
//        'white',
//        'receive',
//        'science',
//        'such',
//        'stay',
//        'because',
//        'girl',
//        'personal',
//        'current',
//        'list',
//        'type',
//        'need',
//        'office',
//        'cause',
//        'sometimes',
//        'realize',
//        'position',
//        'page',
//        'use',
//        '    up',
//        'love',
//        'local',
//        'college',
//        'age',
//        'explain',
//        'effect',
//        'care',
//        'study',
//        'stuff',
//        'opinion',
//        'appear',
//        'enjoy',
//        'difference',
//        'american',
//        'nation',
//        'chance',
//        'according',
//        'couple',
//        'interesting',
//        'although',
//        'mention',
//        'moment',
//        'eat',
//        'strong',
//        'happy',
//        'character',
//        'society',
//        'sit',
//        'fall',
//        'fan',
//        'less',
//        'center',
//        'truth',
//        'economy',
//        'no',
//        'effort',
//        'argument',
//        'future',
//        'campaign',
//        'thought',
//        'suggest',
//        'than',
//        'example',
//        'vote',
//        'death',
//        'research',
//        'later',
//        'simple',
//        'early',
//        'control',
//        'amount',
//        'university',
//        'exactly',
//        'phone',
//        'pass',
//        'am',
//        'likely',
//        'serve',
//        'heart',
//        'break',
//        'room',
//        'certainly',
//        'security',
//        'education',
//        'minute',
//        'clear',
//        'street',
//        'industry',
//        'relationship',
//        'photo',
//        'rest',
//        'source',
//        'available',
//        'opportunity',
//        'save',
//        'goal',
//        'federal',
//        'raise',
//        'hit',
//        'state',
//        'whatever',
//        'among',
//        'oh',
//        'nice',
//        'point',
//        'economic',
//        'one',
//        'eye',
//        'form',
//        'drive',
//        'check',
//        'die',
//        'record',
//        'court',
//        'report',
//        'completely',
//        'cut',
//        'pick',
//        'along',
//        'model',
//        'picture',
//        'certain',
//        'music',
//        'field',
//        'major',
//        'single',
//        'space',
//        'website',
//        'technology',
//        'teach',
//        'response',
//        'matter',
//        'evidence',
//        'claim',
//        'piece',
//        'miss',
//        'rule',
//        'walk',
//        'itself',
//        'option',
//        'poor',
//        'guess',
//        'fight',
//        'organization',
//        'candidate',
//        'author',
//        'oil',
//        'open',
//        'fail',
//        'voter',
//        'remain',
//        'focus',
//        'short',
//        'leader',
//        'huge',
//        'answer',
//        'user',
//        'mother',
//        'image',
//        'race',
//        'five',
//        'democrat',
//        'statement',
//        'entire',
//        'pm',
//        'deal',
//        'finally',
//        'well',
//        'throw',
//        'recently',
//        'across',
//        'role',
//        'face',
//        'series',
//        'wonder',
//        'support',
//        'bit',
//        'no',
//        'rather',
//        'produce',
//        'home',
//        'development',
//        'benefit',
//        'quality',
//        'note',
//        'customer',
//        'art',
//        'past',
//        'similar',
//        'report',
//        'recent',
//        'usually',
//        'reality',
//        'himself',
//        'dollar',
//        'instead',
//        'per',
//        'open',
//        'sound',
//        'force',
//        'early',
//        'reach',
//        'increase',
//        'bank',
//        'behind',
//        'teacher',
//        'apple',
//        'accept',
//        'ability',
//        'top',
//        'face',
//        'prove',
//        'upon',
//        'attack',
//        'store',
//        'bit',
//        'practice',
//        'cover',
//        'discussion',
//        'wish',
//        'assume',
//        'develop',
//        'step',
//        'soon',
//        'enough',
//        'plan',
//        'morning',
//        'exist',
//        'deal',
//        'baby',
//        'link',
//        'message',
//        'debate',
//        'culture',
//        'attention',
//        'financial',
//        'period',
//        'hard',
//        'paper',
//        'father',
//        'internet',
//        'common',
//        'sort',
//        'third',
//        'forget',
//        'act',
//        'special',
//        'compare',
//        'difficult',
//        'global',
//        'carry',
//        'force',
//        'natural',
//        'listen',
//        'like',
//        'clearly',
//        'boy',
//        'email',
//        'road',
//        'design',
//        'debt',
//        'military',
//        'police',
//        'describe',
//        'due',
//        'building',
//        'version',
//        'risk',
//        'air',
//        'individual',
//        'loss',
//        'defense',
//        'folk',
//        'imagine',
//        'reader',
//        'unless',
//        'apply',
//        'hate',
//        'son',
//        'solution',
//        'forward',
//        'earth',
//        'private',
//        'majority',
//        'fine',
//        'light',
//        'act',
//        'wear',
//        'income',
//        'bill',
//        'argue',
//        'discuss',
//        'truly',
//        'sex',
//        'insurance',
//        'close',
//        'involve',
//        'population',
//        'religion',
//        'career',
//        'wife',
//        'writer',
//        'look',
//        'lot',
//        'star',
//        'success',
//        'protect',
//        'nature',
//        'push',
//        'resource',
//        'return',
//        'content',
//        'computer',
//        'freedom',
//        'worker',
//        'citizen',
//        'avoid',
//        'decade',
//        'half',
//        'board',
//        'employee',
//        'department',
//        'card',
//        'sorry',
//        'web',
//        'drug',
//        'pull',
//        'tool',
//        'join',
//        'former',
//        'play',
//        'best',
//        'worth',
//        'dog',
//        'ground',
//        'medical',
//        'activity',
//        'order',
//        'language',
//        'behavior',
//        'credit',
//        'reduce',
//        'union',
//        'definitely',
//        'original',
//        'instead',
//    ];
}